!function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n,t){},function(e,n,t){"use strict";t.r(n);t(0);function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.revers='<img src="img/revers.png">',this.index=n,this.avers=t}var n,t,i;return n=e,(t=[{key:"render",value:function(e){return'\n            <div class="card card-'.concat(e,'">\n                ').concat(this.revers,"\n            </div>\n        ")}}])&&r(n.prototype,t),i&&r(n,i),e}();function a(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.time=n,this.moves=t}var n,t,r;return n=e,(t=[{key:"render",value:function(){document.querySelector(".board").innerHTML='\n            <div class="final-board">\n                <span class="congratulations">\n                    Congratulations!\n                </span>\n                <span class="final-statistics">\n                    Time: '.concat(this.time,"\n                    <br>\n                    Moves: ").concat(this.moves,'\n                </span>\n                <button type="button" class="btn btn-outline-info restart-btn">\n                    New game\n                </button>\n            </div>\n        ')}}])&&a(n.prototype,t),r&&a(n,r),e}();function o(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.pairs=0,this.moves=0,this.time=0,this.minutes=0,this.seconds=0,this.shouldTik=!1}var n,t,r;return n=e,(t=[{key:"renderPoints",value:function(){var e=document.querySelector("progress"),n=Number(e.getAttribute("value"));console.log(n),e.setAttribute("value","".concat(n+1))}},{key:"renderMoves",value:function(){document.querySelector(".moves").textContent="".concat(this.moves)}},{key:"checkIfWin",value:function(e,n){var t=this;this.pairs===e&&(setTimeout(function(){new s(t.timeToShow(),t.moves).render(),n.restartGame()},800),this.shouldTik=!1)}},{key:"timeToShow",value:function(){return"".concat(this.minutes>9?this.minutes:"0"+this.minutes," : ").concat(this.seconds>9?this.seconds:"0"+this.seconds)}},{key:"timeTik",value:function(){var e=this,n=setInterval(function(){e.shouldTik?(e.time+=1,e.minutes=Math.floor(e.time/60),e.seconds=e.time%60,document.querySelector(".timer").textContent=e.timeToShow()):clearInterval(n)},1e3)}},{key:"render",value:function(e){return'\n            <div class="player-container">\n                <div class="statistics">\n                    <div class="points">\n                        <img src="img/logo-img.png" style="height: 35px">\n                        <progress value="0" max="'.concat(e/2,'"></progress>\n                    </div>\n                    <div class="timer-container">\n                        <img src="img/clock.png" style="height: 25px">\n                        <span class="timer">\n                            00 : 00\n                        </span>\n                    </div>\n                    <div class="moves-container">\n                        <img src="img/moves-icon.png" style="height: 25px">\n                        <span class="moves">').concat(this.moves,'</span>\n                    </div>\n                </div>\n                <div class="playing-btns">\n                    <button type="button" class="btn btn-outline-info pause-btn">Pause</button>\n                    <button type="button" class="btn btn-outline-info restart-btn">Restart</button>\n               </div>\n               \n            </div>\n        ')}}])&&o(n.prototype,t),r&&o(n,r),e}();function u(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.cardsQuantity=null,this.cards=[],this.choisenCards=[],this.player=new c}var n,t,r;return n=e,(t=[{key:"createAverses",value:function(){var e,n=[];switch(this.cardsQuantity){case 12:e=6;break;case 24:e=3;break;case 36:e=2}for(var t=Math.floor(Math.random()*e+1),r=0;r<this.cardsQuantity;r++){var i=Math.ceil((r+1)/2)*t;n.push('<img class="avers" src="img/cats-'.concat(i,'.jpg">'))}return n.map(function(e,t){var r=Math.floor(Math.random()*n.length),i=n[r];n[r]=e,n[t]=i}),n}},{key:"renderCards",value:function(){for(var e=this.createAverses(),n=document.querySelector(".cards"),t=0;t<e.length;t++){var r=new i(t,e[t]);this.cards.push(r),n.innerHTML+=r.render(t)}}},{key:"handleCardClick",value:function(e,n){var t=this;if(!e.currentTarget.classList.contains("done")&&!e.currentTarget.classList.contains("clicked")&&this.choisenCards.length<2){e.currentTarget.classList.add("clicked");var r=this.cards[n];if(e.currentTarget.innerHTML=r.avers,this.choisenCards.push(r),2===this.choisenCards.length)if(this.player.moves++,this.player.renderMoves(),this.choisenCards[0].avers===this.choisenCards[1].avers){var i=!0,a=!1,s=void 0;try{for(var o,c=function(){var e=o.value,n=document.querySelector(".card-".concat(e.index));setTimeout(function(){n.classList.add("done"),n.innerHTML=""},700),t.choisenCards=[]},u=this.choisenCards[Symbol.iterator]();!(i=(o=u.next()).done);i=!0)c()}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}this.player.pairs+=1,this.player.renderPoints(),this.player.checkIfWin(this.cardsQuantity/2,this)}else setTimeout(function(){var e=!0,n=!1,r=void 0;try{for(var i,a=t.choisenCards[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value,o=document.querySelector(".card-".concat(s.index));o.innerHTML=s.revers,o.classList.remove("clicked")}}catch(e){n=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}t.choisenCards=[]},700)}}},{key:"openAvers",value:function(){var e=this;document.querySelectorAll(".card").forEach(function(n,t){return n.addEventListener("click",function(n){return e.handleCardClick(n,t)})})}},{key:"restartGame",value:function(){var e=this;document.querySelector(".restart-btn").addEventListener("click",function(){(new h).render(),e.player.shouldTik=!1,e.player.timeTik()})}},{key:"manageTime",value:function(e){e.currentTarget.innerHTML=this.player.shouldTik?"Play":"Pause",this.player.shouldTik=!this.player.shouldTik,document.querySelector(".cards").style.display=this.player.shouldTik?"":"none",this.player.timeTik()}},{key:"manageHardnessClass",value:function(){switch(this.cardsQuantity){case 24:document.querySelector(".cards").classList.add("medium-level");break;case 36:document.querySelector(".cards").classList.add("hard-level")}}},{key:"render",value:function(){var e=this;document.querySelector("#root").innerHTML='\n            <div class="board">\n                '.concat(this.player.render(this.cardsQuantity),'\n               <div class="cards"></div>\n            </div>\n        '),this.renderCards(),this.openAvers(),this.player.timeTik(),this.restartGame(),document.querySelector(".pause-btn").addEventListener("click",function(n){return e.manageTime(n)}),this.manageHardnessClass()}}])&&u(n.prototype,t),r&&u(n,r),e}();function d(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.levelChoisen=!1,this.boardToRender=new l}var n,t,r;return n=e,(t=[{key:"handleStartClick",value:function(){this.levelChoisen&&(this.boardToRender.render(),this.boardToRender.player.shouldTik=!0)}},{key:"getQuantity",value:function(e){var n="Easy"===e.currentTarget.innerText?12:"Medium"===e.currentTarget.innerText?24:36;this.boardToRender.cardsQuantity=n,this.levelChoisen=!0,document.querySelector(".start-btn").innerText="Start"}},{key:"render",value:function(){var e=this;document.querySelector("#root").innerHTML='\n            <div class="start-page">\n                <h1>Playful cats</h1>\n                \n                <span>Same... but so different</span>\n                <img src="img/logo-img.png">\n\n                <div class="btns">\n                    <button type="button" class="btn btn-outline-info level-btn easy">\n                        Easy\n                    </button>\n                    <button type="button" class="btn btn-outline-info level-btn medium">\n                        Medium\n                    </button>\n                    <button type="button" class="btn btn-outline-info level-btn hard">\n                        Hard\n                    </button>\n                </div>\n                \n                <button type="button" class="btn btn-outline-info btn-lg start-btn">\n                    Select level please\n                </button>\n            </div>    \n        ',document.querySelectorAll(".level-btn").forEach(function(n){return n.addEventListener("click",function(n){return e.getQuantity(n)})}),document.querySelector(".start-btn").addEventListener("click",function(){return e.handleStartClick()})}}])&&d(n.prototype,t),r&&d(n,r),e}();(new h).render()}]);